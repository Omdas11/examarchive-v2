<!-- ================================
     Expanded Profile Panel
     Auth-driven (Single login surface)
     ================================ -->
<div
  id="profile-panel"
  class="profile-panel"
  aria-hidden="true"
>

  <!-- Backdrop -->
  <div class="profile-panel-backdrop" data-close-profile></div>

  <!-- Panel Card -->
  <div class="profile-panel-card">

    <!-- Header -->
    <header class="profile-header">
      <div
        class="profile-avatar"
        id="profileAvatar"
        data-initials="?"
        data-avatar=""
        data-color=""
        aria-hidden="true"
      ></div>

      <div class="profile-meta">
        <h2 class="profile-name" data-field="name">Guest</h2>
        <p class="profile-username" data-field="username">Not signed in</p>
        <p class="profile-since" data-field="memberSince" hidden>
          Member since · Jan 2025
        </p>
      </div>

      <!-- SVG Close Button -->
      <button
        class="profile-close"
        aria-label="Close profile"
        data-close-profile
        type="button"
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
          fill="none"
          stroke-linecap="round"
        >
          <line x1="6" y1="6" x2="18" y2="18"/>
          <line x1="6" y1="18" x2="18" y2="6"/>
        </svg>
      </button>
    </header>

    <!-- Badges (USER ONLY) -->
    <section class="profile-badges" data-auth-only="user" hidden>

      <div class="badge badge-role">
        <span class="badge-icon"></span>
        <span class="badge-label">Contributor</span>
      </div>

      <div class="badge badge-rank">
        <span class="badge-icon"></span>
        <span class="badge-label">Gold</span>
      </div>

      <div class="badge badge-admin" data-auth-only="admin" hidden>
        <span class="badge-icon"></span>
        <span class="badge-label">Admin</span>
      </div>

    </section>

    <!-- Stats (USER ONLY) -->
    <section class="profile-stats" data-auth-only="user" hidden>
      <div class="stat">
        <strong data-field="uploads">0</strong>
        <span>Uploads</span>
      </div>

      <div class="stat">
        <strong data-field="approved">0</strong>
        <span>Approved</span>
      </div>

      <div class="stat">
        <strong data-field="points">0</strong>
        <span>Points</span>
      </div>

      <div class="stat">
        <strong data-field="streak">0</strong>
        <span>Streak</span>
      </div>
    </section>

    <!-- ================= LOGIN (GUEST) ================= -->
    <section class="profile-actions" data-auth-only="guest">

      <p class="muted">
        Sign in to upload papers and track your progress.
      </p>

      <button
        class="btn btn-primary"
        data-open-login
      >
        Sign in with Google
      </button>

    </section>

    <!-- ================= USER ACTIONS ================= -->
    <section class="profile-actions" data-auth-only="user" hidden>

      <a
        href="settings.html"
        class="btn btn-outline"
      >
        Manage Account
      </a>

      <button
        id="profileSwitchAccountBtn"
        class="btn btn-outline"
      >
        Switch Account
      </button>

      <button
        id="profileLogoutBtn"
        class="btn btn-outline-red"
      >
        Sign out
      </button>

    </section>

  </div>
</div>

<!-- ================================
     Switch Account Confirmation Modal
     ================================ -->
<div
  id="switch-account-modal"
  class="switch-account-modal"
  aria-hidden="true"
>
  <div class="switch-account-modal-backdrop" data-close-switch></div>
  
  <div class="switch-account-modal-content" role="dialog" aria-modal="true" aria-labelledby="switch-account-heading">
    <button class="modal-close" aria-label="Close" data-close-switch>
      ×
    </button>

    <h2 id="switch-account-heading">Switch Account</h2>
    <p class="modal-description">
      Switch account allows you to sign in with another Google account.
    </p>

    <div class="current-account-info" id="currentAccountInfo">
      <strong>Current account:</strong>
      <span id="currentAccountEmail">user@example.com</span>
    </div>

    <div class="modal-actions">
      <button
        id="confirmSwitchAccountBtn"
        class="btn btn-primary"
      >
        Continue with another Google account
      </button>
      
      <button
        class="btn btn-outline"
        data-close-switch
      >
        Cancel
      </button>
    </div>
  </div>
</div>
