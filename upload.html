<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Upload Paper Â· ExamArchive</title>

  <!-- Global styles -->
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/footer.css">
  <link rel="stylesheet" href="css/profile-panel.css">
  <link rel="stylesheet" href="css/avatar-popup.css">
  <link rel="stylesheet" href="css/avatar.css">

  <!-- Page-specific -->
  <link rel="stylesheet" href="css/upload.css">

  <!-- Accessibility and SEO -->
  <meta name="description" content="Upload university question papers to help fellow students." />
  <meta name="theme-color" content="#d32f2f" />
</head>
<body>

  <!-- Skip to content link for accessibility -->
  <a href="#main-content" class="sr-only sr-only-focusable">Skip to main content</a>

  <!-- Header -->
  <div id="night-layer"></div>
  <div id="header"></div>

  <main class="upload-page container" id="main-content">

    <!-- ================= HEADER ================= -->
    <section class="upload-intro">
      <h1>Upload to ExamArchive</h1>
      <p class="text-muted">
        Help fellow students by uploading question papers, repeated questions, or study resources.
      </p>
    </section>

    <!-- ================= UPLOAD TYPE SELECTOR ================= -->
    <section class="upload-type-selector card">
      <h2>Select Upload Type</h2>
      <div class="type-options">
        <label class="type-option active" data-type="question-paper">
          <input type="radio" name="upload-type" value="question-paper" checked />
          <div class="type-content">
            <div class="type-icon">ğŸ“„</div>
            <div class="type-info">
              <strong>Question Paper</strong>
              <small>Upload previous year question papers (PDF)</small>
            </div>
          </div>
        </label>
        
        <label class="type-option disabled" data-type="repeated-questions">
          <input type="radio" name="upload-type" value="repeated-questions" disabled />
          <div class="type-content">
            <div class="type-icon">ğŸ”</div>
            <div class="type-info">
              <strong>Repeated Questions</strong>
              <small>Coming in next phase</small>
            </div>
          </div>
        </label>
        
        <label class="type-option disabled" data-type="notes-resources">
          <input type="radio" name="upload-type" value="notes-resources" disabled />
          <div class="type-content">
            <div class="type-icon">ğŸ“š</div>
            <div class="type-info">
              <strong>Notes / Resources</strong>
              <small>Coming in future phase</small>
            </div>
          </div>
        </label>
      </div>
    </section>

    <!-- ================= UPLOAD CARD ================= -->
    <section class="upload-card card">

      <!-- STEP 1 -->
      <div class="upload-step">
        <h2>Paper details</h2>

        <label class="field">
          <span class="field-label">Paper / Subject Code</span>
          <input
            type="text"
            placeholder="e.g. PHYDSC102T"
            required
          />
          <small class="field-hint">
            Use the official paper code printed on the question paper.
          </small>
        </label>

        <label class="field">
          <span class="field-label">Examination Year</span>
          <input
            type="number"
            placeholder="e.g. 2023"
            min="1990"
            max="2099"
            required
          />
        </label>
      </div>

      <!-- STEP 2 -->
      <div class="upload-step">
        <h2>Upload PDF</h2>

        <label class="file-drop">
          <input
            type="file"
            accept="application/pdf"
            required
            hidden
          />

          <div class="file-ui">
            <strong>Select PDF file</strong>
            <p class="text-muted">
              Only PDF files Â· Clear scan preferred Â· Max size limits may apply
            </p>
          </div>
        </label>
      </div>

      <!-- STEP 3 -->
      <div class="upload-step upload-submit">
        <button type="submit" class="btn btn-red">
          Upload Paper
        </button>

        <p class="upload-note text-muted">
          Uploaded papers are reviewed before appearing publicly.
        </p>
      </div>

    </section>

    <!-- ================= FUTURE INFO ================= -->
    <section class="upload-info card">
      <h2>Upload guidelines</h2>
      <ul class="text-muted">
        <li>Ensure all pages are visible and upright</li>
        <li>Avoid cropped or blurry images</li>
        <li>One paper per upload</li>
        <li>Incorrect uploads may be removed</li>
      </ul>
    </section>

  </main>

  <!-- Footer -->
  <div id="footer"></div>

  <!-- Global portals -->
  <div id="avatar-portal"></div>
  <div id="profile-panel-portal"></div>

  <!-- Scripts -->
  <!-- âš¡ BOOTSTRAP (MUST BE FIRST) -->
  <script src="js/bootstrap.js"></script>
  
  <!-- Supabase SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.93.3"></script>
  
  <!-- âš¡ SUPABASE INITIALIZATION (Phase 9.2.4) -->
  <script type="module" src="js/app.module.js"></script>
  
  <!-- Classic Scripts (NO type="module") -->
  <script src="js/common.js"></script>
  <script src="js/avatar-utils.js"></script>
  <script src="js/roles.js"></script>
  <script src="js/admin-auth.js"></script>
  <script src="js/upload-handler.js"></script>
  <script src="js/profile-panel.js"></script>
  <script src="js/avatar-popup.js"></script>
  <script src="js/upload.js"></script>
  <script src="js/theme.js"></script>

</body>
  </html>
